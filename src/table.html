<html>
<body>
  <template>
    <style inline type="text/css" src="../css/base.css"></style>
    <style inline type="text/css" src="../css/tables.css" id="tables-style"></style>
  </template>
  <script>

    (function() {

      githubPrimer.registerElement('primer-table', {
        create: function (ownerDocument, document) {

          // Array.from(this.children)
          //   .filter(child => child.tagName.toLowerCase() === 'table')
          //   .forEach(child => {
          //     console.log(child);
          //     child.classList.add('data-table')
          //   });

          

          var content = Array.from(this.children);
          var shadowRoot = this.attachShadow({ mode: 'open' });
          content.forEach(child => {

            if (child instanceof HTMLTableElement) {
              child.classList.add('data-table')
            }

            shadowRoot.appendChild(child);

          });
          return shadowRoot;

        }
      });

    })();

  </script>
</body>
<html>
