<!DOCTYPE html>
<html>
<head>
  <link rel="import" href="_loader.html" />
</head>
<body>
  <template>
    <style inline type="text/css" src="../css/base.css"></style>
    <style inline type="text/css" src="../css/buttons.css"></style>
  </template>
  <script>

    (function() {
      githubPrimer.registerElement('primer-button', {
        create: function (ownerDocument, document) {

          var el = document.createElement("button");
          el.setAttribute("type", "button");

          // apply classes
          ['m-1', 'btn']
            .forEach(className => el.classList.add(className));

          // button types
          ['primary', 'danger', 'outline']
            .forEach((buttonType) => {
              if (this.hasAttribute(buttonType)) {
                el.classList.add('btn-' + buttonType);
              }
            });

          Array.from(this.childNodes)
            .forEach((node) => el.appendChild(node))
          
          var shadowRoot = this.attachShadow({ mode: 'open' });
          shadowRoot.appendChild(el);
          return shadowRoot;
        }
      });
    })();

  </script>
</body>
</html>
